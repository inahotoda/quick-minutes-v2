# 📝 INAHO 議事録アプリ

> AIが会議の録音から議事録を自動生成するWebアプリケーション

---

## 🎯 主要な機能

### 1. 🎤 リアルタイム録音 → 議事録生成
会議中に録音し、終了後にAIが自動で議事録を作成

### 2. 📁 ファイルアップロード → 議事録生成  
既存の音声ファイルやPDFを読み込んで議事録を生成

### 3. 💾 Google Drive 自動保存
生成した議事録をワンクリックでGoogle Driveに保存

### 4. 📱 オフライン対応（PWA）
オフラインでもアプリ起動・録音が可能（議事録生成はネット必須）

---

## 💻 推奨環境

| デバイス | 推奨ブラウザ | 備考 |
|----------|--------------|------|
| **Mac / Windows** | **Google Chrome** | Safariも動作しますが、Chromeを推奨 |
| **iPhone / iPad** | **Google Chrome** | Safariでも動作します |
| **Android** | **Google Chrome** | 標準ブラウザでもOK |

> 💡 **ポイント**: Google Chromeでの利用を推奨します。最も安定して動作します。

---

## 🔄 基本的な使い方

```
┌─────────────────────────────────────────────────────────────┐
│                        使い方フロー                          │
└─────────────────────────────────────────────────────────────┘

  ① ログイン        ② 参加者確認       ③ 録音開始
  ┌─────────┐      ┌─────────┐       ┌─────────┐
  │ Google  │  →   │ 誰が参加? │  →    │  🎤     │
  │ でログイン│      │ 田中さん  │       │ 録音中... │
  └─────────┘      │ 鈴木さん  │       └─────────┘
                   └─────────┘            │
                                          ▼
  ⑥ 保存完了        ⑤ 議事録確認       ④ AI生成中
  ┌─────────┐      ┌─────────┐       ┌─────────┐
  │ ✅ 保存済み │  ←   │ 📋 編集  │  ←    │  AI    │
  │           │      │ ✓ 確認   │       │ 処理中... │
  └─────────┘      └─────────┘       └─────────┘
```

---

## 👆 操作手順（初めての方向け）

### STEP 1: ログイン
1. アプリにアクセス
2. 「Googleでログイン」ボタンをクリック
3. 会社のGoogleアカウントでログイン

### STEP 2: 録音開始
1. 画面中央の **マイクボタン** をタップ
2. 参加者を確認（名前を追加・削除可能）
3. 「▶ Mtgスタート」をタップ

### STEP 3: 会議中
- 録音は自動で継続（画面はそのまま or 他のアプリを使用可）
- 必要に応じて「資料を追加」から会議資料をアップロード

### STEP 4: 録音終了
1. **停止ボタン** をタップ
2. AIが自動で議事録を生成（1〜2分程度）

### STEP 5: 保存
1. 生成された議事録を確認・編集
2. 「🚀 ドライブに保存」をタップ
3. Google Driveに自動保存完了！

---

## ⚙️ 設定機能

### 👥 メンバー管理

会議に参加するメンバーを事前登録しておくと、毎回入力する手間が省けます。

> 🎤 **なぜ音声が必要？**  
> AIが「誰が何を話したか」を自動判別するために、各メンバーの **声のサンプル** を登録します。  
> これにより、議事録に「田中さん：〇〇と発言」のように発言者が自動で記載されます。

```
┌─────────────────────────────────────────────────────────────┐
│                    メンバー管理画面                          │
└─────────────────────────────────────────────────────────────┘

  ┌───────────────────────────────────┐
  │  👥 登録済みメンバー               │
  │  ├─ 🧑 田中太郎 [🎤 音声登録済み]   │
  │  ├─ 👩 鈴木花子 [🎤 音声登録済み]   │
  │  ├─ 🧑 佐藤一郎 [⚠️ 音声未登録]    │
  │  └─ 👩 山田美咲 [🎤 音声登録済み]   │
  │                                   │
  │  [+ 新しいメンバーを追加]          │
  └───────────────────────────────────┘
```

#### メンバー登録の手順
1. 画面右上の「⚙️ 設定」をタップ
2. 「メンバー管理」セクションへ
3. 「+ 新しいメンバーを追加」をタップ
4. **名前を入力**
5. **🎤 音声を録音**（10秒程度、自分の名前や自己紹介を話す）
6. 保存

> 💡 **ヒント**: 音声サンプルは **静かな場所で、はっきりと** 録音してください。声の特徴をAIが学習します。

#### 参加者の選択（録音開始時）
- 登録済みメンバーから **チェックボックスで選択**
- その場で新規追加も可能
- 選択したメンバーは議事録に「参加者」として記載される

---

### 📋 会議プリセット（モード）

会議の種類に応じて、議事録のフォーマットが自動で最適化されます。

```
┌─────────────────────────────────────────────────────────────┐
│                    会議プリセット                            │
└─────────────────────────────────────────────────────────────┘

  ┌─────────┐    ┌─────────┐    ┌─────────┐
  │  🏢    │    │  🤝    │    │  📁    │
  │  社内   │    │  商談   │    │ その他  │
  └─────────┘    └─────────┘    └─────────┘
```

| プリセット | 説明 | 議事録の特徴 |
|-----------|------|-------------|
| **🏢 社内** | 社内ミーティング用 | 決定事項・アクションアイテム重視 |
| **🤝 商談** | お客様との商談用 | 顧客要望・次回アクション重視 |
| **📁 その他** | 汎用的な会議用 | バランスの取れた構成 |

#### プリセットの選び方
1. 録音画面で **プリセットアイコン** をタップ
2. 会議の種類を選択
3. AIがそのプリセットに最適化された議事録を生成

---

### ⏱️ 会議時間の設定

会議の予定時間を設定すると、時間になった時に通知されます。

| 設定 | 説明 |
|-----|------|
| **30分** | 30分で通知 |
| **60分** | 60分で通知 |
| **無制限** | 時間制限なし |



## 🛠️ システム構成（技術スタック）

```
┌─────────────────────────────────────────────────────────────┐
│                     システム全体像                           │
└─────────────────────────────────────────────────────────────┘

   ユーザー                    サーバー                  外部サービス
  ┌───────┐               ┌─────────────┐           ┌─────────────┐
  │       │   HTTPS       │             │   API     │   Gemini    │
  │ 📱    │ ◀──────────▶  │   Vercel    │ ◀──────▶  │   (AI)      │
  │ スマホ  │               │   Next.js   │           └─────────────┘
  │ or    │               │             │           ┌─────────────┐
  │ 💻    │               │             │   API     │   Google    │
  │ PC    │               │             │ ◀──────▶  │   Drive     │
  └───────┘               └─────────────┘           └─────────────┘
```

### フロントエンド（見た目）
| 技術 | 役割 |
|------|------|
| **Next.js 16** | Webアプリのフレームワーク |
| **React** | 画面のUI構築 |
| **TypeScript** | プログラミング言語 |
| **PWA** | オフライン対応・アプリ化 |

### バックエンド（裏側の処理）
| 技術 | 役割 |
|------|------|
| **Vercel** | サーバー・ホスティング |
| **NextAuth.js** | Googleログイン認証 |

### 外部サービス連携
| サービス | 役割 |
|----------|------|
| **Google Gemini** | AI議事録生成 |
| **Google Drive** | 議事録・音声ファイル保存 |
| **Google OAuth** | ログイン認証 |

---

## 📊 データの流れ

```
┌─────────────────────────────────────────────────────────────┐
│                    データフロー図                            │
└─────────────────────────────────────────────────────────────┘

   [録音データ]                [議事録]
        │                         │
        ▼                         ▼
   ┌─────────┐              ┌─────────┐
   │ ブラウザ │              │ ブラウザ │
   │ で録音   │              │ で表示   │
   └────┬────┘              └────▲────┘
        │                         │
        │ ① アップロード          │ ④ 表示
        ▼                         │
   ┌─────────┐              ┌─────────┐
   │ Gemini  │ ─── ② 送信 ─▶ │ Gemini  │
   │ ファイル  │              │ AI処理  │
   │ API     │ ◀── ③ 生成 ── │         │
   └─────────┘              └─────────┘
        │
        │ ⑤ 保存
        ▼
   ┌─────────┐
   │ Google  │
   │ Drive   │
   └─────────┘
```

---

## ⚠️ 注意事項・トラブルシューティング

### 📶 オフライン時
- ✅ 録音は可能
- ❌ 議事録生成はネット接続が必要
- 💡 オフラインで録音 → ネット復旧後にファイルアップロードで生成可能

### 📱 iOSでの利用
- ⚠️ ホーム画面に追加したPWAからはバックグラウンド録音不可
- 💡 Safari/Chromeのタブから利用してください

---

### 🔧 議事録生成が失敗した場合

ネットワークエラーやAIのタイムアウトで議事録生成が失敗する場合があります。

```
┌─────────────────────────────────────────────────────────────┐
│                    音声データの復旧方法                       │
└─────────────────────────────────────────────────────────────┘

  ① エラー発生 → ② 音声ダウンロード → ③ デバイスに保存

   ❌            ⬇️             📱/💻
  生成失敗      .m4aファイル       ダウンロード
                                 フォルダに保存

  → ネット復旧後、ファイルアップロードで再度議事録を生成できます
```

**対処手順:**
1. エラーが出ると「音声ダウンロード」の確認ダイアログが表示される
2. 「はい」をタップして音声ファイルをデバイスに保存
3. ネットワークの状態が良いときにアプリを開き直す
4. 「ファイルアップロード」タブから保存した音声をアップロード
5. 再度議事録生成を実行

---

### 🔧 Google Drive保存が失敗した場合

**主な原因:**
- ネットワークの一時的な不具合
- セッションのタイムアウト
- Google Driveの容量不足（まれ）

**対処手順:**
1. 「📋 コピー」ボタンで議事録をクリップボードにコピー（バックアップとして）
2. 一度ログアウトして再ログイン
3. もう一度「ドライブに保存」をタップ

> ⚠️ **注意**: 保存ボタンは **1回だけ** 押してください。連打すると重複保存される可能性があります。保存成功するとボタンが「✅ 保存済み」に変わります。

---

## 📌 バージョン情報

- **現在のバージョン**: v4.15.0
- **更新日**: 2026年2月3日

---

## 📞 お問い合わせ

アプリに関するご質問・ご要望は、開発チームまでご連絡ください。
